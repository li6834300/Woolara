---
layout: default
---

<section class="section">
    <div class="container">
        <div class="yarn-detail-header">
            <h1>{{ page.title }}</h1>
            <p class="ply-info">{{ page.ply }}</p>
            <p class="yarn-description">{{ page.description }}</p>
        </div>
        
        <div class="yarn-detail-content">
            <!-- Main Display Area -->
            <div class="yarn-main-display">
                <div class="main-image-container">
                    <img id="mainYarnImage" src="{{ page.image | relative_url }}" alt="{{ page.title }}" class="main-yarn-image">
                </div>
            </div>
            
            <!-- Color Selection Matrix -->
            <div class="yarn-color-matrix">
                <h3>Available Colors</h3>
                <div class="color-grid" id="colorGrid">
                    <!-- Colors will be populated based on yarn type -->
                </div>
            </div>
        </div>
        
        <!-- Yarn Specifications -->
        <div class="yarn-specifications">
            <div class="yarn-specs">
                <h3>Specifications</h3>
                <div class="spec-item">
                    <span class="spec-label">Weight:</span>
                    <span class="spec-value">{{ page.weight }}</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">Length:</span>
                    <span class="spec-value">{{ page.length }}</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">Fiber:</span>
                    <span class="spec-value">{{ page.fiber }}</span>
                </div>
                <div class="spec-item">
                    <span class="spec-label">Care:</span>
                    <span class="spec-value">{{ page.care }}</span>
                </div>
            </div>
            
            <div class="yarn-content">
                {{ content }}
            </div>
        </div>
        
        <!-- Back to Collection -->
        <div class="back-link">
            <a href="{{ '/yarn-collection/' | relative_url }}" class="btn btn-secondary">‚Üê Back to Collection</a>
        </div>
    </div>
</section>

<script>
// Complete image matrix configuration - all available images
const yarnColorMaps = {
    'soft-bold': {
        prefix: '4173-A3C0-E3',
        images: [
            '0.jpg', '1.jpg', '3.jpg', '4.jpg', '5.jpg', '6.jpg',
            '7.png', '8.png', '9.png', '10.png', '11.png', '12.png', 
            '13.png', '14.png', '15.png'
        ]
    },
    'everyday-luxury': {
        prefix: '4C05-941A-84',
        images: [
            '01.png', '02.png', '03.png', '04.png', '05.png', '06.png',
            '08.png', '09.png', '10.png', '11.png', '12.png', '13.png',
            '14.png', '15.png', '16.png'
        ]
    },
    'feather-light': {
        prefix: '4930-8DE4-28',
        images: [
            '001.png', '002.png', '003.png', '004.png', '005.png', 
            '006.png', '007.png', '008.png'
        ]
    },
    'supreme-edition': {
        prefix: '4AA1-B4A5-B6',
        images: ['0.jpeg']
    }
};

// Get current yarn type from page title or URL
function getCurrentYarnType() {
    const path = window.location.pathname;
    if (path.includes('soft-bold')) return 'soft-bold';
    if (path.includes('everyday-luxury')) return 'everyday-luxury';
    if (path.includes('feather-light')) return 'feather-light';
    if (path.includes('supreme-edition')) return 'supreme-edition';
    return 'soft-bold'; // default
}

// Populate color matrix
function populateColorMatrix() {
    const currentYarn = getCurrentYarnType();
    const imageData = yarnColorMaps[currentYarn];
    
    if (!imageData) return;
    
    const colorGrid = document.getElementById('colorGrid');
    colorGrid.innerHTML = '';
    
    imageData.images.forEach((imageFile, index) => {
        const colorItem = document.createElement('div');
        colorItem.className = 'color-item';
        if (index === 0) colorItem.classList.add('active');
        
        const imagePath = `/Woolara/assets/images/yarn detail/JPEG image-${imageData.prefix}-${imageFile}`;
        
        colorItem.innerHTML = `
            <img src="${imagePath}" alt="Color option ${index + 1}" loading="lazy">
        `;
        
        colorItem.onclick = () => selectColor(imagePath, colorItem);
        colorGrid.appendChild(colorItem);
    });
}

// Select color function
function selectColor(imagePath, element) {
    // Update main image
    document.getElementById('mainYarnImage').src = imagePath;
    
    // Update active state
    document.querySelectorAll('.color-item').forEach(item => item.classList.remove('active'));
    element.classList.add('active');
}

// Initialize when page loads
document.addEventListener('DOMContentLoaded', populateColorMatrix);
</script> 